import{r as h,c as o,b as n,d as a,u as c,m as w,w as p,e,P as f,p as l,F as d,h as x,t as u,n as k,W as m}from"./app-CdRyRB9H.js";import{A as C}from"./AppMain-DVntqoy_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"max-w-6xl mx-auto bg-white p-6 rounded-2xl shadow-lg border border-blue-200"},P={class:"flex justify-between items-center mb-6"},j={key:0,class:"min-w-full divide-y divide-gray-200 text-sm"},$={class:"divide-y divide-gray-200"},N={class:"px-4 py-2"},U={class:"px-4 py-2"},A={class:"px-4 py-2"},B={class:"px-4 py-2 flex space-x-3"},S=["onClick"],M={key:1,class:"text-center text-gray-500 py-10"},T={class:"mt-8 flex justify-center items-center space-x-1 text-sm sm:text-base font-medium"},O=["disabled"],V=["onClick"],_=["disabled"],W={__name:"Index",props:{users:Array,authUser:Object},setup(b){const y=b,g=h("");function v(r){const t=route("usuarios.destroy",r.id);if(r.id===y.authUser.id){const s=prompt("Para eliminar tu cuenta, por favor ingresa tu contrase√±a:");if(!s)return;g.value=s,confirm("¬øEst√°s seguro de que deseas eliminar tu cuenta? Esta acci√≥n es irreversible.")&&m.delete(t,{password:g.value},{onSuccess:()=>m.reload(),onError:i=>{alert(`Error al eliminar tu cuenta:
`+Object.values(i).join(`
`))}})}else confirm(`¬øEst√°s seguro de que deseas eliminar al usuario ${r.name}?`)&&m.delete(t,{},{onSuccess:()=>m.reload(),onError:s=>{alert(`Error al eliminar usuario:
`+Object.values(s).join(`
`))}})}return(r,t)=>(n(),o(d,null,[a(c(w),{title:"Usuarios"}),a(C,null,{default:p(()=>[e("div",null,[e("div",E,[e("div",P,[t[3]||(t[3]=e("h2",{class:"text-2xl font-bold text-blue-800"},"üë§ Usuarios del Sistema",-1)),a(c(f),{href:r.route("usuarios.create"),class:"inline-flex items-center bg-blue-600 text-white px-4 py-2 rounded-md shadow hover:bg-blue-700 transition",title:"Crear nuevo usuario","aria-label":"Crear nuevo usuario"},{default:p(()=>t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),l(" Nuevo Usuario ")])),_:1},8,["href"])]),b.users.length?(n(),o("table",j,[t[6]||(t[6]=e("thead",{class:"bg-gray-100 text-gray-700 text-left"},[e("tr",null,[e("th",{class:"px-4 py-2"},"Nombre"),e("th",{class:"px-4 py-2"},"Correo"),e("th",{class:"px-4 py-2"},"Roles"),e("th",{class:"px-4 py-2"},"Acciones")])],-1)),e("tbody",$,[(n(!0),o(d,null,x(b.users,s=>(n(),o("tr",{key:`user-${s.id}`},[e("td",N,u(s.name),1),e("td",U,u(s.email),1),e("td",A,[(n(!0),o(d,null,x(s.roles,i=>(n(),o("span",{key:`role-${i.id}-${s.id}`,class:"inline-block bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs mr-1"},u(i.name),1))),128))]),e("td",B,[a(c(f),{href:r.route("usuarios.edit",s.id),class:"inline-flex items-center text-blue-600 hover:underline px-3 py-1 rounded-md hover:bg-blue-100 transition",title:"Editar usuario"},{default:p(()=>t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.232 5.232l3.536 3.536M9 11l6 6m0 0l-3 3m3-3L9 11"})],-1),l(" Editar ")])),_:2},1032,["href"]),e("button",{onClick:i=>v(s),class:"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600 flex items-center transition",title:"Eliminar usuario"},t[5]||(t[5]=[l(" üóëÔ∏è "),e("span",{class:"ml-1"},"Eliminar",-1)]),8,S)])]))),128))])])):(n(),o("div",M," No hay usuarios registrados a√∫n. ")),e("div",T,[e("button",{onClick:t[0]||(t[0]=s=>r.goToPage(r.currentPage-1)),disabled:r.currentPage===1,class:"flex items-center px-3 py-1.5 rounded-md border border-blue-500 text-blue-500 hover:bg-blue-100 transition disabled:opacity-50 disabled:cursor-not-allowed"},t[7]||(t[7]=[e("span",{class:"mr-1"},"‚¨ÖÔ∏è",-1),l(" Anterior ")]),8,O),(n(!0),o(d,null,x(r.totalPages,s=>(n(),o("button",{key:s,onClick:i=>r.goToPage(s),class:k([["px-3 py-1.5 rounded-md transition",s===r.currentPage?"bg-blue-600 text-white shadow-md":"border border-blue-300 text-blue-600 hover:bg-blue-100"],"min-w-[2.5rem]"])},u(s),11,V))),128)),e("button",{onClick:t[1]||(t[1]=s=>r.goToPage(r.currentPage+1)),disabled:r.currentPage===r.totalPages,class:"flex items-center px-3 py-1.5 rounded-md border border-blue-500 text-blue-500 hover:bg-blue-100 transition disabled:opacity-50 disabled:cursor-not-allowed"},t[8]||(t[8]=[l(" Siguiente "),e("span",{class:"ml-1"},"‚û°Ô∏è",-1)]),8,_)])])])]),_:1})],64))}};export{W as default};
