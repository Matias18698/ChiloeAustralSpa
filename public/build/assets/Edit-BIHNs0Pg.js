import{s as k,C as w,c as n,b,d as m,u as d,m as v,w as y,e as l,i as q,g as r,j as i,v as c,F as f,h as U,t as V}from"./app-Kob4L842.js";import{A as C}from"./AppMain-BFqa2tYw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"w-full bg-gradient-to-b from-blue-50 to-blue-100 min-h-screen p-6"},j={class:"overflow-hidden bg-white rounded-xl shadow-lg p-6 border border-blue-200"},E={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},A=["value"],B={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},D={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},N={class:"flex justify-end"},T=["disabled"],z={__name:"Edit",setup(F){const{trabajador:a,embarcaciones:p}=k().props,t=w({nombre:a.nombre,apellido:a.apellido,avatar:a.avatar,rut:a.rut,fecha_nacimiento:a.fecha_nacimiento,estado_civil:a.estado_civil,nacionalidad:a.nacionalidad,direccion:a.direccion,comuna:a.comuna,email:a.email,telefono:a.telefono,afp:a.afp,cargo:a.cargo,tamaño_ropa:a.tamaño_ropa,tipo_contrato:a.tipo_contrato,sueldo_real:a.sueldo_real,sueldo_liquidacion:a.sueldo_liquidacion,embarcacion_id:a.embarcacion_id,id:a.id}),g=()=>{t.post(route("trabajador.update",a),{onSuccess:s=>{a.value=s.props.trabajador,console.log("Trabajador actualizado:",a.value),window.location.href=route("trabajador.index")}})},x=async s=>{const o=s.target.files[0];if(o)try{const e={maxSizeMB:1,maxWidthOrHeight:300,useWebWorker:!0},u=await imageCompression(o,e);t.avatar=u,previewUrl.value=URL.createObjectURL(u),console.log(`Original: ${o.size/1024} KB`),console.log(`Comprimido: ${u.size/1024} KB`)}catch(e){console.error("Error al comprimir imagen:",e)}};return(s,o)=>(b(),n(f,null,[m(d(v),{title:"Editar trabajador"}),m(C,null,{default:y(()=>[l("div",S,[o[40]||(o[40]=l("div",{class:"flex flex-col sm:flex-row justify-between items-center mb-6"},[l("h2",{class:"text-3xl font-bold text-blue-800 flex items-center"}," Editar Trabajador ")],-1)),l("div",j,[l("form",{onSubmit:q(g,["prevent"]),class:"space-y-6"},[l("div",null,[o[27]||(o[27]=l("h3",{class:"text-lg font-semibold text-blue-800 border-b pb-2 mb-4"},"Datos Personales",-1)),l("div",E,[l("div",null,[o[17]||(o[17]=l("label",{for:"nombre",class:"block text-sm font-medium text-black"},"Nombre",-1)),r(l("input",{type:"text",id:"nombre","onUpdate:modelValue":o[0]||(o[0]=e=>d(t).nombre=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).nombre]])]),l("div",null,[o[18]||(o[18]=l("label",{for:"apellido",class:"block text-sm font-medium text-black"},"Apellido",-1)),r(l("input",{type:"text",id:"apellido","onUpdate:modelValue":o[1]||(o[1]=e=>d(t).apellido=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).apellido]])]),l("div",null,[o[19]||(o[19]=l("label",{for:"rut",class:"block text-sm font-medium text-black"},"RUT",-1)),r(l("input",{type:"text",id:"rut","onUpdate:modelValue":o[2]||(o[2]=e=>d(t).rut=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black",placeholder:"20.520.354-4"},null,512),[[i,d(t).rut]])]),l("div",null,[o[20]||(o[20]=l("label",{for:"fecha_nacimiento",class:"block text-sm font-medium text-black"},"Fecha de Nacimiento",-1)),r(l("input",{type:"date",id:"fecha_nacimiento","onUpdate:modelValue":o[3]||(o[3]=e=>d(t).fecha_nacimiento=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).fecha_nacimiento]])]),l("div",null,[o[22]||(o[22]=l("label",{for:"estado_civil",class:"block text-sm font-medium text-black"},"Estado Civil",-1)),r(l("select",{id:"estado_civil","onUpdate:modelValue":o[4]||(o[4]=e=>d(t).estado_civil=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},o[21]||(o[21]=[l("option",{value:""},"Seleccione",-1),l("option",{value:"Soltero/a"},"Soltero/a",-1),l("option",{value:"Casado/a"},"Casado/a",-1),l("option",{value:"Divorciado/a"},"Divorciado/a",-1),l("option",{value:"Viudo/a"},"Viudo/a",-1)]),512),[[c,d(t).estado_civil]])]),l("div",null,[o[23]||(o[23]=l("label",{for:"nacionalidad",class:"block text-sm font-medium text-black"},"Nacionalidad",-1)),r(l("input",{type:"text",id:"nacionalidad","onUpdate:modelValue":o[5]||(o[5]=e=>d(t).nacionalidad=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).nacionalidad]])]),l("div",null,[o[25]||(o[25]=l("label",{for:"embarcacion_id",class:"block text-sm font-medium text-black"},"Embarcación",-1)),r(l("select",{id:"embarcacion_id","onUpdate:modelValue":o[6]||(o[6]=e=>d(t).embarcacion_id=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},[o[24]||(o[24]=l("option",{value:""},"Sin asignar",-1)),(b(!0),n(f,null,U(d(p),e=>(b(),n("option",{key:e.id,value:e.id},V(e.nombre),9,A))),128))],512),[[c,d(t).embarcacion_id]])]),l("div",null,[o[26]||(o[26]=l("label",{for:"avatar",class:"block text-sm font-medium text-black"},"Avatar",-1)),l("input",{type:"file",id:"avatar",onChange:x,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black",accept:"image/*"},null,32)])])]),l("div",null,[o[32]||(o[32]=l("h3",{class:"text-lg font-semibold text-blue-800 border-b pb-2 mb-4"},"Contacto",-1)),l("div",B,[l("div",null,[o[28]||(o[28]=l("label",{for:"direccion",class:"block text-sm font-medium text-black"},"Domicilio",-1)),r(l("input",{type:"text",id:"direccion","onUpdate:modelValue":o[7]||(o[7]=e=>d(t).direccion=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).direccion]])]),l("div",null,[o[29]||(o[29]=l("label",{for:"comuna",class:"block text-sm font-medium text-black"},"Comuna",-1)),r(l("input",{type:"text",id:"comuna","onUpdate:modelValue":o[8]||(o[8]=e=>d(t).comuna=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).comuna]])]),l("div",null,[o[30]||(o[30]=l("label",{for:"email",class:"block text-sm font-medium text-black"},"Email",-1)),r(l("input",{type:"email",id:"email","onUpdate:modelValue":o[9]||(o[9]=e=>d(t).email=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).email]])]),l("div",null,[o[31]||(o[31]=l("label",{for:"telefono",class:"block text-sm font-medium text-black"},"Número de Contacto",-1)),r(l("input",{type:"text",id:"telefono","onUpdate:modelValue":o[10]||(o[10]=e=>d(t).telefono=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black",placeholder:"+56988245789"},null,512),[[i,d(t).telefono]])])])]),l("div",null,[o[39]||(o[39]=l("h3",{class:"text-lg font-semibold text-blue-800 border-b pb-2 mb-4"},"Información Laboral",-1)),l("div",D,[l("div",null,[o[33]||(o[33]=l("label",{for:"afp",class:"block text-sm font-medium text-black"},"AFP",-1)),r(l("input",{type:"text",id:"afp","onUpdate:modelValue":o[11]||(o[11]=e=>d(t).afp=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).afp]])]),l("div",null,[o[34]||(o[34]=l("label",{for:"cargo",class:"block text-sm font-medium text-black"},"Cargo",-1)),r(l("input",{type:"text",id:"cargo","onUpdate:modelValue":o[12]||(o[12]=e=>d(t).cargo=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).cargo]])]),l("div",null,[o[35]||(o[35]=l("label",{for:"tamaño_ropa",class:"block text-sm font-medium text-black"},"Talla de Ropa",-1)),r(l("input",{type:"text",id:"tamaño_ropa","onUpdate:modelValue":o[13]||(o[13]=e=>d(t).tamaño_ropa=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).tamaño_ropa]])]),l("div",null,[o[36]||(o[36]=l("label",{for:"tipo_contrato",class:"block text-sm font-medium text-black"},"Tipo de Contrato",-1)),r(l("input",{type:"text",id:"tipo_contrato","onUpdate:modelValue":o[14]||(o[14]=e=>d(t).tipo_contrato=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).tipo_contrato]])]),l("div",null,[o[37]||(o[37]=l("label",{for:"sueldo_real",class:"block text-sm font-medium text-black"},"Sueldo Real",-1)),r(l("input",{type:"number",id:"sueldo_real","onUpdate:modelValue":o[15]||(o[15]=e=>d(t).sueldo_real=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).sueldo_real]])]),l("div",null,[o[38]||(o[38]=l("label",{for:"sueldo_liquidacion",class:"block text-sm font-medium text-black"},"Sueldo por Liquidación",-1)),r(l("input",{type:"number",id:"sueldo_liquidacion","onUpdate:modelValue":o[16]||(o[16]=e=>d(t).sueldo_liquidacion=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white text-black"},null,512),[[i,d(t).sueldo_liquidacion]])])])]),l("div",N,[l("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition",disabled:d(t).processing}," Guardar cambios ",8,T)])],32)])])]),_:1})],64))}};export{z as default};
