import{C as V,r as q,c as s,b as n,d as f,u as o,m as U,w as C,e as t,i as w,g as a,j as r,f as p,n as c,t as b,v as x,F as v,h as S}from"./app-DG0kc4f6.js";import{A as j}from"./AppMain-DjWXVROa.js";import{i as N}from"./browser-image-compression-BgY3rL5_.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"w-full bg-gradient-to-b from-blue-50 to-blue-100 min-h-screen p-6"},D={class:"overflow-hidden bg-white rounded-xl shadow-lg p-6 border border-blue-200"},E={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},F={key:0,class:"text-red-600 text-sm mt-1"},L={key:0,class:"mt-4 justify-center items-center"},M=["src"],R=["value"],T={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},z={key:0,class:"text-red-600 text-sm mt-1"},O={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},P={class:"flex justify-end"},W=["disabled"],I={__name:"Create",props:{embarcaciones:Array},setup(g){const l=V({nombre:"",apellido:"",avatar:null,rut:"",fecha_nacimiento:"",estado_civil:"",nacionalidad:"",direccion:"",comuna:"",email:"",telefono:"",afp:"",cargo:"",tamaño_ropa:"",tipo_contrato:"",sueldo_real:"",sueldo_liquidacion:"",embarcacion_id:null}),k=()=>{l.embarcacion_id||delete l.embarcacion_id,l.post(route("trabajador.store"),{onSuccess:()=>{l.reset()},onError:d=>{alert("No se pudo crear el trabajador. Por favor revisa los errores en el formulario."),console.log(d)}})},u=q(null),y=async d=>{const e=d.target.files[0];if(e)try{const m=await N(e,{maxSizeMB:1,maxWidthOrHeight:300,useWebWorker:!0});l.avatar=m,u.value=URL.createObjectURL(m),console.log(`Original: ${e.size/1024} KB`),console.log(`Comprimido: ${m.size/1024} KB`)}catch(i){console.error("Error al comprimir imagen:",i)}};return(d,e)=>(n(),s(v,null,[f(o(U),{title:"Crear trabajador"}),f(j,null,{default:C(()=>[t("div",B,[e[40]||(e[40]=t("div",{class:"flex flex-col sm:flex-row justify-between items-center mb-6"},[t("h2",{class:"text-3xl font-bold text-blue-800 flex items-center"}," Crear Trabajador ")],-1)),t("div",D,[t("form",{onSubmit:w(k,["prevent"]),class:"space-y-6"},[t("div",null,[e[27]||(e[27]=t("h3",{class:"text-lg font-semibold text-blue-800 border-b pb-2 mb-4"},"Datos Personales",-1)),t("div",E,[t("div",null,[e[17]||(e[17]=t("label",{for:"nombre",class:"block text-sm font-medium text-black"},"Nombre",-1)),a(t("input",{type:"text",id:"nombre","onUpdate:modelValue":e[0]||(e[0]=i=>o(l).nombre=i),required:"",class:"input"},null,512),[[r,o(l).nombre]])]),t("div",null,[e[18]||(e[18]=t("label",{for:"apellido",class:"block text-sm font-medium text-black"},"Apellido",-1)),a(t("input",{type:"text",id:"apellido","onUpdate:modelValue":e[1]||(e[1]=i=>o(l).apellido=i),required:"",class:"input"},null,512),[[r,o(l).apellido]])]),t("div",null,[e[19]||(e[19]=t("label",{for:"rut",class:"block text-sm font-medium text-black"},"RUT",-1)),a(t("input",{type:"text",id:"rut","onUpdate:modelValue":e[2]||(e[2]=i=>o(l).rut=i),required:"",class:c(["input",{"border-red-500":o(l).errors.rut}]),placeholder:"11.111.111-1"},null,2),[[r,o(l).rut]]),o(l).errors.rut?(n(),s("p",F,b(o(l).errors.rut),1)):p("",!0)]),t("div",null,[e[20]||(e[20]=t("label",{for:"fecha_nacimiento",class:"block text-sm font-medium text-black"},"Fecha de Nacimiento",-1)),a(t("input",{type:"date",id:"fecha_nacimiento","onUpdate:modelValue":e[3]||(e[3]=i=>o(l).fecha_nacimiento=i),required:"",class:"input"},null,512),[[r,o(l).fecha_nacimiento]])]),t("div",null,[e[22]||(e[22]=t("label",{for:"estado_civil",class:"block text-sm font-medium text-black"},"Estado Civil",-1)),a(t("select",{id:"estado_civil","onUpdate:modelValue":e[4]||(e[4]=i=>o(l).estado_civil=i),required:"",class:"input"},e[21]||(e[21]=[t("option",{value:""},"Seleccione",-1),t("option",{value:"Soltero/a"},"Soltero/a",-1),t("option",{value:"Casado/a"},"Casado/a",-1),t("option",{value:"Divorciado/a"},"Divorciado/a",-1),t("option",{value:"Viudo/a"},"Viudo/a",-1)]),512),[[x,o(l).estado_civil]])]),t("div",null,[e[23]||(e[23]=t("label",{for:"nacionalidad",class:"block text-sm font-medium text-black"},"Nacionalidad",-1)),a(t("input",{type:"text",id:"nacionalidad","onUpdate:modelValue":e[5]||(e[5]=i=>o(l).nacionalidad=i),required:"",class:"input"},null,512),[[r,o(l).nacionalidad]])]),t("div",null,[e[24]||(e[24]=t("label",{for:"avatar",class:"block text-sm font-medium text-black"},"Avatar",-1)),t("input",{type:"file",id:"avatar",onChange:y,class:"input",accept:"image/*"},null,32),u.value?(n(),s("div",L,[t("img",{src:u.value,alt:"Vista previa del avatar",class:"w-32 h-32 object-cover rounded-full"},null,8,M)])):p("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{for:"embarcacion_id",class:"block text-sm font-medium text-black"},"Embarcación ",-1)),a(t("select",{id:"embarcacion_id","onUpdate:modelValue":e[6]||(e[6]=i=>o(l).embarcacion_id=i),class:"input"},[e[25]||(e[25]=t("option",{value:""},"Sin asignar",-1)),(n(!0),s(v,null,S(g.embarcaciones,i=>(n(),s("option",{key:i.id,value:i.id},b(i.nombre),9,R))),128))],512),[[x,o(l).embarcacion_id]])])])]),t("div",null,[e[32]||(e[32]=t("h3",{class:"text-lg font-semibold text-blue-800 border-b pb-2 mb-4"},"Contacto",-1)),t("div",T,[t("div",null,[e[28]||(e[28]=t("label",{for:"direccion",class:"block text-sm font-medium text-black"},"Domicilio",-1)),a(t("input",{type:"text",id:"direccion","onUpdate:modelValue":e[7]||(e[7]=i=>o(l).direccion=i),required:"",class:"input"},null,512),[[r,o(l).direccion]])]),t("div",null,[e[29]||(e[29]=t("label",{for:"comuna",class:"block text-sm font-medium text-black"},"Comuna",-1)),a(t("input",{type:"text",id:"comuna","onUpdate:modelValue":e[8]||(e[8]=i=>o(l).comuna=i),required:"",class:"input"},null,512),[[r,o(l).comuna]])]),t("div",null,[e[30]||(e[30]=t("label",{for:"email",class:"block text-sm font-medium text-black"},"Email",-1)),a(t("input",{type:"email",id:"email","onUpdate:modelValue":e[9]||(e[9]=i=>o(l).email=i),required:"",class:c(["input",{"border-red-500":o(l).errors.email}])},null,2),[[r,o(l).email]]),o(l).errors.email?(n(),s("p",z,b(o(l).errors.email),1)):p("",!0)]),t("div",null,[e[31]||(e[31]=t("label",{for:"telefono",class:"block text-sm font-medium text-black"},"Número de Contacto",-1)),a(t("input",{type:"text",id:"telefono","onUpdate:modelValue":e[10]||(e[10]=i=>o(l).telefono=i),required:"",class:"input",placeholder:"+569..."},null,512),[[r,o(l).telefono]])])])]),t("div",null,[e[39]||(e[39]=t("h3",{class:"text-lg font-semibold text-blue-800 border-b pb-2 mb-4"},"Información Laboral",-1)),t("div",O,[t("div",null,[e[33]||(e[33]=t("label",{for:"afp",class:"block text-sm font-medium text-black"},"AFP",-1)),a(t("input",{type:"text",id:"afp","onUpdate:modelValue":e[11]||(e[11]=i=>o(l).afp=i),required:"",class:"input"},null,512),[[r,o(l).afp]])]),t("div",null,[e[34]||(e[34]=t("label",{for:"cargo",class:"block text-sm font-medium text-black"},"Cargo",-1)),a(t("input",{type:"text",id:"cargo","onUpdate:modelValue":e[12]||(e[12]=i=>o(l).cargo=i),required:"",class:"input"},null,512),[[r,o(l).cargo]])]),t("div",null,[e[35]||(e[35]=t("label",{for:"tamaño_ropa",class:"block text-sm font-medium text-black"},"Talla de Ropa",-1)),a(t("input",{type:"text",id:"tamaño_ropa","onUpdate:modelValue":e[13]||(e[13]=i=>o(l).tamaño_ropa=i),required:"",class:"input"},null,512),[[r,o(l).tamaño_ropa]])]),t("div",null,[e[36]||(e[36]=t("label",{for:"tipo_contrato",class:"block text-sm font-medium text-black"},"Tipo de Contrato",-1)),a(t("input",{type:"text",id:"tipo_contrato","onUpdate:modelValue":e[14]||(e[14]=i=>o(l).tipo_contrato=i),required:"",class:"input"},null,512),[[r,o(l).tipo_contrato]])]),t("div",null,[e[37]||(e[37]=t("label",{for:"sueldo_real",class:"block text-sm font-medium text-black"},"Sueldo Real",-1)),a(t("input",{type:"number",id:"sueldo_real","onUpdate:modelValue":e[15]||(e[15]=i=>o(l).sueldo_real=i),required:"",class:"input"},null,512),[[r,o(l).sueldo_real]])]),t("div",null,[e[38]||(e[38]=t("label",{for:"sueldo_liquidacion",class:"block text-sm font-medium text-black"},"Sueldo por Liquidación",-1)),a(t("input",{type:"number",id:"sueldo_liquidacion","onUpdate:modelValue":e[16]||(e[16]=i=>o(l).sueldo_liquidacion=i),required:"",class:"input"},null,512),[[r,o(l).sueldo_liquidacion]])])])]),t("div",P,[t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition",disabled:o(l).processing}," Crear trabajador ",8,W)])],32)])])]),_:1})],64))}},J=A(I,[["__scopeId","data-v-bf6f474d"]]);export{J as default};
