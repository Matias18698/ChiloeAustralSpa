import{y as h,b as n,w,d as _,e as t,u as j,m as S,t as o,c as b,p as c,F as v,h as g,f as k}from"./app-Kob4L842.js";import{A}from"./AppMain-BFqa2tYw.js";import{h as B}from"./html2pdf-Cr_UCBB5.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"max-w-4xl mx-auto p-4"},N={class:"overflow-auto md:overflow-visible max-w-full"},O={id:"bitacora-pdf",class:"bg-white shadow-md rounded-md border border-gray-300 text-gray-800 print:shadow-none print:border-none print:rounded-none text-sm p-8 min-w-[700px]"},P={class:"flex justify-between items-start border-b pb-2 mb-4"},I={class:"w-4/5 text-left"},E={class:"mt-4 text-base font-bold uppercase text-center"},R={class:"flex justify-end text-xs"},F={class:"flex space-x-1 items-center"},T={class:"flex flex-col items-center text-center"},$={class:"border border-gray-400 border-t-0 px-1 py-1 w-10 h-8 flex items-center justify-center"},V={class:"text-[11px]"},z={class:"flex flex-col items-center text-center"},M={class:"border border-gray-400 border-t-0 px-1 py-1 w-10 h-8 flex items-center justify-center"},L={class:"text-[11px]"},H={class:"flex flex-col items-center text-center"},J={class:"border border-gray-400 border-t-0 px-1 py-1 w-12 h-8 flex items-center justify-center"},U={class:"text-[11px]"},Z={class:"border border-black p-4 mb-6 space-y-4"},q={class:"flex border-b border-black pb-2"},Q={class:"flex-1 text-left"},G={class:"flex-1 text-center"},K={class:"border-b border-black pb-2 flex space-x-8"},W={class:"text-sm font-bold uppercase text-center"},X={class:"text-sm uppercase border-b border-dotted border-gray-500 pb-1",style:{width:"300px"}},Y={class:"border-l border-black pl-4 flex flex-col w-1/2"},tt={class:"flex items-center relative h-6 border-b border-dotted border-gray-500"},et={class:"font-mono w-full text-center text-sm z-10"},st={class:"flex items-center justify-between pb-2 text-sm"},ot={class:"ml-1"},rt={class:"text-right"},at={class:"ml-1"},it={class:"text-sm font-bold uppercase mb-2 pt-2"},lt={class:"text-justify whitespace-pre-wrap bg-white p-1"},dt={class:"min-h-[80px] pb-4 border-t border-black bg-white whitespace-pre-wrap"},nt={class:"whitespace-pre-wrap"},ct={class:"mt-8"},bt={class:"flex justify-end items-start"},mt={class:"text-center w-64"},xt={class:"text-left mb-3"},ut={class:"relative h-5 mb-2"},ft={class:"absolute top-[-0.5rem] text-sm"},pt={class:"h-20 flex items-end justify-center mb-1 relative"},vt=["src"],gt={class:"text-sm mb-2"},yt={__name:"Documento",props:{bitacora:Object},setup(s){const y=()=>{const m=document.getElementById("bitacora-pdf"),e={margin:0,filename:`bitacora-${new Date().toISOString().slice(0,10)}.pdf`,image:{type:"jpeg",quality:.65},html2canvas:{scale:3,useCORS:!0,backgroundColor:"#fff"},jsPDF:{unit:"in",format:[8.5,14],orientation:"portrait"},pagebreak:{avoid:["*"]}};B().set(e).from(m).toCanvas().toPdf().get("pdf").then(i=>{const l=i.internal.getNumberOfPages();if(l>1)for(let a=l;a>1;a--)i.deletePage(a)}).save()};return(m,e)=>(n(),h(A,null,{default:w(()=>{var i,l,a,x,u;return[_(j(S),{title:"Informe Diario de Buceo"}),t("div",D,[t("div",{class:"flex justify-end mb-2"},[t("button",{onClick:y,class:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded shadow",type:"button"}," Exportar PDF ")]),t("div",N,[t("div",O,[t("div",P,[e[4]||(e[4]=t("div",{class:"w-1/5"},[t("img",{src:"/storage/logo.png",alt:"Logo Empresa",class:"h-28 object-contain"})],-1)),t("div",I,[e[0]||(e[0]=t("div",null,[t("p",{class:"text-sm font-semibold leading-tight uppercase"},"Sociedad Servicios Acuícolas"),t("p",{class:"text-sm"},"Chiloé Austral SPA"),t("p",{class:"text-sm"},"RUT: 76.755.845-7"),t("p",{class:"text-sm"},"Camino San Antonio S/N, Quellón")],-1)),t("p",E," Informe Diario de Buceo N° "+o(s.bitacora.numero_boleta||"----"),1)]),t("div",R,[t("div",F,[t("div",T,[e[1]||(e[1]=t("div",{class:"border border-gray-400 px-1 py-0.5 w-10 h-5 text-[10px] text-gray-700 flex items-center justify-center"},"Día",-1)),t("div",$,[t("strong",V,o((s.bitacora.fecha||"----").split("-")[2]||"--"),1)])]),t("div",z,[e[2]||(e[2]=t("div",{class:"border border-gray-400 px-1 py-0.5 w-10 h-5 text-[10px] text-gray-700 flex items-center justify-center"},"Mes",-1)),t("div",M,[t("strong",L,o((s.bitacora.fecha||"----").split("-")[1]||"--"),1)])]),t("div",H,[e[3]||(e[3]=t("div",{class:"border border-gray-400 px-1 py-0.5 w-12 h-5 text-[10px] text-gray-700 flex items-center justify-center"},"Año",-1)),t("div",J,[t("strong",U,o((s.bitacora.fecha||"----").split("-")[0]||"----"),1)])])])])]),t("div",Z,[t("div",q,[t("p",Q,[e[5]||(e[5]=t("strong",null,"Supervisor:",-1)),c(" "+o(((i=s.bitacora.trabajador)==null?void 0:i.nombre)+" "+((l=s.bitacora.trabajador)==null?void 0:l.apellido)||"N/A"),1)]),t("p",G,[e[6]||(e[6]=t("strong",null,"Centro:",-1)),c(" "+o(s.bitacora.centro||"----"),1)])]),t("div",K,[e[8]||(e[8]=t("div",{class:"border-r border-black pr-4 flex items-center"},[t("p",{class:"text-sm font-bold uppercase"},"Team Buceo")],-1)),t("table",null,[(n(),b(v,null,g(5,r=>{var d,f,p;return t("tr",{key:r},[t("td",W,o(r)+".-",1),t("td",X,o((d=s.bitacora[`buzo${r}`])!=null&&d.nombre?((f=s.bitacora[`buzo${r}`])==null?void 0:f.nombre)+" "+((p=s.bitacora[`buzo${r}`])==null?void 0:p.apellido):""),1)])}),64))]),t("div",Y,[e[7]||(e[7]=t("p",{class:"text-center font-bold uppercase mb-2"},"Total Jaulas",-1)),t("div",tt,[t("span",et,o(s.bitacora.total_jaulas!==void 0?s.bitacora.total_jaulas:"---")+" "+o(s.bitacora.dimension_jaulas!==void 0?` (${s.bitacora.dimension_jaulas})`:""),1)])])]),t("div",st,[t("div",null,[e[9]||(e[9]=t("strong",null,"Hora Inicio:",-1)),t("span",ot,o(s.bitacora.hora_inicial||"----"),1)]),e[11]||(e[11]=t("div",{class:"text-center font-semibold"}," TRABAJOS REALIZADOS POR BUZOS ",-1)),t("div",rt,[e[10]||(e[10]=t("strong",null,"Hora Término:",-1)),t("span",at,o(s.bitacora.hora_final||"----"),1)])]),(n(),b(v,null,g({actividades_am:"Actividades AM",actividades_pm:"Actividades PM"},(r,d)=>t("div",{key:d,class:"pb-4 border-t border-black"},[t("p",it,o(r),1),t("div",lt,o(s.bitacora[d]||"---"),1)])),64)),t("div",dt,[e[12]||(e[12]=t("strong",{class:"block mb-2 pt-2"},"OBSERVACIONES",-1)),t("div",nt,o(s.bitacora.observaciones||"Sin observaciones registradas."),1)])]),t("div",ct,[t("div",bt,[t("div",mt,[t("div",xt,[t("div",ut,[t("span",ft," Nombre: "+o(((a=s.bitacora.trabajador)==null?void 0:a.nombre)+" "+((x=s.bitacora.trabajador)==null?void 0:x.apellido)||"N/A"),1),e[13]||(e[13]=t("div",{class:"border-b border-gray-700 w-full absolute bottom-0"},null,-1))]),e[14]||(e[14]=t("div",{class:"relative h-5"},[t("span",{class:"absolute top-[-0.5rem] text-sm"}," Cargo: Supervisor "),t("div",{class:"border-b border-gray-700 w-full absolute bottom-0"})],-1))]),t("div",pt,[s.bitacora.firma_encargado?(n(),b("img",{key:0,src:`/storage/${s.bitacora.firma_encargado}`,alt:"Firma",class:"h-full object-contain"},null,8,vt)):k("",!0)]),e[17]||(e[17]=t("div",{class:"border-t border-gray-700 mt-2 mb-1"},null,-1)),t("p",gt,[e[15]||(e[15]=c(" Supervisor de Buceo")),e[16]||(e[16]=t("br",null,null,-1)),c(" Rut: "+o(((u=s.bitacora.trabajador)==null?void 0:u.rut)||"----"),1)]),e[18]||(e[18]=t("p",{class:"text-xs text-gray-600"},null,-1))])])])])])])]}),_:1}))}},St=C(yt,[["__scopeId","data-v-c600eb72"]]);export{St as default};
