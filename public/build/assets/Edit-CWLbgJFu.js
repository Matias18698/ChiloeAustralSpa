import{C as k,r as f,c as s,b as i,d as x,u as t,m as j,w as z,e as o,i as w,g as u,f as d,j as b,t as n,F as p,h as _,v as g,W as V}from"./app-DG0kc4f6.js";import{A as U}from"./AppMain-DjWXVROa.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"w-full bg-gradient-to-b from-blue-50 to-blue-100 min-h-screen p-6"},A={class:"max-w-4xl mx-auto bg-white p-6 rounded-2xl shadow-lg border border-blue-200"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={key:0,class:"error"},M={key:0,class:"error"},h={key:0,class:"error"},S={key:0,class:"error"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$=["value"],L={key:0,class:"error"},N=["value"],O={key:0,class:"error"},H={class:"col-span-full"},I={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 w-full"},J={class:"block text-sm font-medium text-gray-700 mb-1"},P=["onUpdate:modelValue"],T=["value"],W={key:0,class:"text-sm text-red-600 mt-1"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z={key:0,class:"error"},G={key:0,class:"error"},K={key:0,class:"error"},Q={key:0,class:"error"},R={key:0,class:"error"},X={key:0,class:"error"},Y={key:0,class:"error"},ee={class:"h-20 flex items-end justify-left mb-1 relative"},ae=["src"],oe={class:"pt-4"},te=["disabled"],re={__name:"Edit",props:{bitacora:Object,trabajadores:Array,embarcaciones:Array},setup(c){const l=c,a=k({fecha:l.bitacora.fecha??"",numero_boleta:l.bitacora.numero_boleta??"",zona:l.bitacora.zona??"",centro:l.bitacora.centro??"",embarcacion_id:l.bitacora.embarcacion_id??"",trabajador_id:l.bitacora.trabajador_id??"",hora_inicial:l.bitacora.hora_inicial??"",hora_final:l.bitacora.hora_final??"",actividades_am:l.bitacora.actividades_am??"",actividades_pm:l.bitacora.actividades_pm??"",firma_encargado:l.bitacora.firma_encargado??"",observaciones:l.bitacora.observaciones??"",total_jaulas:l.bitacora.total_jaulas??"",dimension_jaulas:l.bitacora.dimension_jaulas??"",buzo_1_id:l.bitacora.buzo_1_id??"",buzo_2_id:l.bitacora.buzo_2_id??"",buzo_3_id:l.bitacora.buzo_3_id??"",buzo_4_id:l.bitacora.buzo_4_id??"",buzo_5_id:l.bitacora.buzo_5_id??""});f(l.bitacora.hora_inicial),f(l.bitacora.hora_final);const y=()=>{a.clearErrors();const v={fecha:"La fecha es obligatoria.",numero_boleta:"El número de boleta es obligatorio.",zona:"La zona es obligatoria.",centro:"El centro es obligatorio.",embarcacion_id:"Debe seleccionar una embarcación.",trabajador_id:"Debe seleccionar un encargado de faena.",actividades_am:"Debe ingresar las actividades AM.",actividades_pm:"Debe ingresar las actividades PM.",total_jaulas:"Debe ingresar el total de jaulas.",dimension_jaulas:"Debe indicar las dimensiones de las jaulas."};for(const[e,r]of Object.entries(v))a[e]||(a.errors[e]=r);Object.keys(a.errors).length>0||a.post(route("bitacora.update",l.bitacora.id),{onSuccess:()=>{V.visit(route("bitacora.index"))}})};return(v,e)=>(i(),s(p,null,[x(t(j),{title:"Editar Bitácora"}),x(U,null,{default:z(()=>[o("div",D,[o("div",A,[e[30]||(e[30]=o("h2",{class:"text-2xl font-bold text-blue-800 mb-8"},"Editar Bitácora",-1)),o("form",{onSubmit:w(y,["prevent"]),class:"space-y-6"},[o("div",B,[o("div",null,[e[13]||(e[13]=o("label",{class:"block text-sm font-medium text-gray-700"},"Fecha",-1)),u(o("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=r=>t(a).fecha=r),class:"input"},null,512),[[b,t(a).fecha]]),t(a).errors.fecha?(i(),s("p",F,n(t(a).errors.fecha),1)):d("",!0)]),o("div",null,[e[14]||(e[14]=o("label",{class:"block text-sm font-medium text-gray-700"},"Nº Boleta",-1)),u(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>t(a).numero_boleta=r),class:"input"},null,512),[[b,t(a).numero_boleta]]),t(a).errors.numero_boleta?(i(),s("p",M,n(t(a).errors.numero_boleta),1)):d("",!0)]),o("div",null,[e[15]||(e[15]=o("label",{class:"block text-sm font-medium text-gray-700"},"Zona",-1)),u(o("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>t(a).zona=r),class:"input"},null,512),[[b,t(a).zona]]),t(a).errors.zona?(i(),s("p",h,n(t(a).errors.zona),1)):d("",!0)]),o("div",null,[e[16]||(e[16]=o("label",{class:"block text-sm font-medium text-gray-700"},"Centro",-1)),u(o("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=r=>t(a).centro=r),class:"input"},null,512),[[b,t(a).centro]]),t(a).errors.centro?(i(),s("p",S,n(t(a).errors.centro),1)):d("",!0)])]),o("div",C,[o("div",null,[e[18]||(e[18]=o("label",{class:"block text-sm font-medium text-gray-700"},"Embarcación",-1)),u(o("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>t(a).embarcacion_id=r),class:"input"},[e[17]||(e[17]=o("option",{disabled:"",value:""},"Selecciona una embarcación",-1)),(i(!0),s(p,null,_(c.embarcaciones,r=>(i(),s("option",{key:r.id,value:r.id},n(r.nombre),9,$))),128))],512),[[g,t(a).embarcacion_id]]),t(a).errors.embarcacion_id?(i(),s("p",L,n(t(a).errors.embarcacion_id),1)):d("",!0)]),o("div",null,[e[20]||(e[20]=o("label",{class:"block text-sm font-medium text-gray-700"},"Encargado de Faena",-1)),u(o("select",{"onUpdate:modelValue":e[5]||(e[5]=r=>t(a).trabajador_id=r),class:"input"},[e[19]||(e[19]=o("option",{disabled:"",value:""},"Selecciona un trabajador",-1)),(i(!0),s(p,null,_(c.trabajadores,r=>(i(),s("option",{key:r.id,value:r.id},n(r.nombre),9,N))),128))],512),[[g,t(a).trabajador_id]]),t(a).errors.trabajador_id?(i(),s("p",O,n(t(a).errors.trabajador_id),1)):d("",!0)])]),o("div",H,[o("div",I,[(i(),s(p,null,_(5,r=>o("div",{key:r},[o("label",J," Buzo "+n(r),1),u(o("select",{"onUpdate:modelValue":m=>t(a)[`buzo_${r}_id`]=m,class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},[e[21]||(e[21]=o("option",{disabled:"",value:""},"Selecciona un buzo",-1)),(i(!0),s(p,null,_(c.trabajadores.filter(m=>m.cargo&&m.cargo.toLowerCase()==="buzo"),m=>(i(),s("option",{key:m.id,value:m.id},n(m.nombre),9,T))),128))],8,P),[[g,t(a)[`buzo_${r}_id`]]]),t(a).errors[`buzo_${r}_id`]?(i(),s("p",W,n(t(a).errors[`buzo_${r}_id`]),1)):d("",!0)])),64))])]),o("div",q,[o("div",null,[e[22]||(e[22]=o("label",{class:"block text-sm font-medium text-gray-700"},"Hora Inicial",-1)),u(o("input",{type:"time","onUpdate:modelValue":e[6]||(e[6]=r=>t(a).hora_inicial=r),class:"input"},null,512),[[b,t(a).hora_inicial]]),t(a).errors.hora_inicial?(i(),s("p",Z,"Debe ingresar nuevamente la hora inicial.")):d("",!0)]),o("div",null,[e[23]||(e[23]=o("label",{class:"block text-sm font-medium text-gray-700"},"Hora Final",-1)),u(o("input",{type:"time","onUpdate:modelValue":e[7]||(e[7]=r=>t(a).hora_final=r),class:"input"},null,512),[[b,t(a).hora_final]]),t(a).errors.hora_final?(i(),s("p",G,"Debe ingresar nuevamente la hora final.")):d("",!0)])]),o("div",null,[e[24]||(e[24]=o("label",{class:"block text-sm font-medium text-gray-700"},"Total Jaulas",-1)),u(o("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=r=>t(a).total_jaulas=r),class:"input",min:"0"},null,512),[[b,t(a).total_jaulas,void 0,{number:!0}]]),t(a).errors.total_jaulas?(i(),s("p",K,n(t(a).errors.total_jaulas),1)):d("",!0)]),o("div",null,[e[25]||(e[25]=o("label",{class:"block text-sm font-medium text-gray-700"},"Dimensiones de Jaulas",-1)),u(o("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=r=>t(a).dimension_jaulas=r),class:"input",placeholder:"Ej: 10x10"},null,512),[[b,t(a).dimension_jaulas]]),t(a).errors.dimension_jaulas?(i(),s("p",Q,n(t(a).errors.dimension_jaulas),1)):d("",!0)]),o("div",null,[e[26]||(e[26]=o("label",{class:"block text-sm font-medium text-gray-700"},"Actividades AM",-1)),u(o("textarea",{"onUpdate:modelValue":e[10]||(e[10]=r=>t(a).actividades_am=r),rows:"3",class:"input"},null,512),[[b,t(a).actividades_am]]),t(a).errors.actividades_am?(i(),s("p",R,n(t(a).errors.actividades_am),1)):d("",!0)]),o("div",null,[e[27]||(e[27]=o("label",{class:"block text-sm font-medium text-gray-700"},"Actividades PM",-1)),u(o("textarea",{"onUpdate:modelValue":e[11]||(e[11]=r=>t(a).actividades_pm=r),rows:"3",class:"input"},null,512),[[b,t(a).actividades_pm]]),t(a).errors.actividades_pm?(i(),s("p",X,n(t(a).errors.actividades_pm),1)):d("",!0)]),o("div",null,[e[28]||(e[28]=o("label",{class:"block text-sm font-medium text-gray-700"},"Observaciones",-1)),u(o("textarea",{"onUpdate:modelValue":e[12]||(e[12]=r=>t(a).observaciones=r),rows:"3",class:"input"},null,512),[[b,t(a).observaciones]]),t(a).errors.observaciones?(i(),s("p",Y,n(t(a).errors.observaciones),1)):d("",!0)]),o("div",null,[e[29]||(e[29]=o("label",{class:"block text-sm font-medium text-gray-700"},"Firma del Encargado",-1)),o("div",ee,[c.bitacora.firma_encargado?(i(),s("img",{key:0,src:`/storage/${c.bitacora.firma_encargado}`,alt:"Firma",class:"border rounded-md max-w-xs object-contain"},null,8,ae)):d("",!0)])]),o("div",oe,[o("button",{type:"submit",disabled:t(a).processing,class:"w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-md shadow hover:bg-blue-700 transition disabled:opacity-50"},n(t(a).processing?"Actualizando...":"Actualizar Bitácora"),9,te)])],32)])])]),_:1})],64))}},ne=E(re,[["__scopeId","data-v-77ecb975"]]);export{ne as default};
