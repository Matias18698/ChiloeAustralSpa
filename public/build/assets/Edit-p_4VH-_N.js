import{C as k,r as f,c as s,b as i,d as x,u as t,m as j,w as z,e as o,i as w,g as u,f as d,j as b,t as n,F as p,h as _,v as g,W as V}from"./app-Kob4L842.js";import{A as U}from"./AppMain-BFqa2tYw.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"w-full bg-gradient-to-b from-blue-50 to-blue-100 min-h-screen p-6"},A={class:"max-w-4xl mx-auto bg-white p-6 rounded-2xl shadow-lg border border-blue-200"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={key:0,class:"error"},M={key:0,class:"error"},h={key:0,class:"error"},S={key:0,class:"error"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$=["value"],L={key:0,class:"error"},N=["value"],O={key:0,class:"error"},H={class:"col-span-full"},I={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 w-full"},J={class:"block text-sm font-medium text-gray-700 mb-1"},P=["onUpdate:modelValue"],T=["value"],W={key:0,class:"text-sm text-red-600 mt-1"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z={key:0,class:"error"},G={key:0,class:"error"},K={key:0,class:"error"},Q={key:0,class:"error"},R={key:0,class:"error"},X={key:0,class:"error"},Y={key:0,class:"error"},aa={class:"h-20 flex items-end justify-left mb-1 relative"},ea=["src"],oa={class:"pt-4"},ta=["disabled"],ra={__name:"Edit",props:{bitacora:Object,trabajadores:Array,embarcaciones:Array},setup(c){const l=c,e=k({fecha:l.bitacora.fecha??"",numero_boleta:l.bitacora.numero_boleta??"",zona:l.bitacora.zona??"",centro:l.bitacora.centro??"",embarcacion_id:l.bitacora.embarcacion_id??"",trabajador_id:l.bitacora.trabajador_id??"",hora_inicial:l.bitacora.hora_inicial??"",hora_final:l.bitacora.hora_final??"",actividades_am:l.bitacora.actividades_am??"",actividades_pm:l.bitacora.actividades_pm??"",firma_encargado:l.bitacora.firma_encargado??"",observaciones:l.bitacora.observaciones??"",total_jaulas:l.bitacora.total_jaulas??"",dimension_jaulas:l.bitacora.dimension_jaulas??"",buzo_1_id:l.bitacora.buzo_1_id??"",buzo_2_id:l.bitacora.buzo_2_id??"",buzo_3_id:l.bitacora.buzo_3_id??"",buzo_4_id:l.bitacora.buzo_4_id??"",buzo_5_id:l.bitacora.buzo_5_id??""});f(l.bitacora.hora_inicial),f(l.bitacora.hora_final);const y=()=>{e.clearErrors();const v={fecha:"La fecha es obligatoria.",numero_boleta:"El número de boleta es obligatorio.",zona:"La zona es obligatoria.",centro:"El centro es obligatorio.",embarcacion_id:"Debe seleccionar una embarcación.",trabajador_id:"Debe seleccionar un encargado de faena.",actividades_am:"Debe ingresar las actividades AM.",actividades_pm:"Debe ingresar las actividades PM.",total_jaulas:"Debe ingresar el total de jaulas.",dimension_jaulas:"Debe indicar las dimensiones de las jaulas."};for(const[a,r]of Object.entries(v))e[a]||(e.errors[a]=r);Object.keys(e.errors).length>0||e.post(route("bitacora.update",l.bitacora.id),{onSuccess:()=>{V.visit(route("bitacora.index"))}})};return(v,a)=>(i(),s(p,null,[x(t(j),{title:"Editar Bitácora"}),x(U,null,{default:z(()=>[o("div",D,[o("div",A,[a[30]||(a[30]=o("h2",{class:"text-2xl font-bold text-blue-800 mb-8"},"Editar Bitácora",-1)),o("form",{onSubmit:w(y,["prevent"]),class:"space-y-6"},[o("div",B,[o("div",null,[a[13]||(a[13]=o("label",{class:"block text-sm font-medium text-gray-700"},"Fecha",-1)),u(o("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=r=>t(e).fecha=r),class:"input"},null,512),[[b,t(e).fecha]]),t(e).errors.fecha?(i(),s("p",F,n(t(e).errors.fecha),1)):d("",!0)]),o("div",null,[a[14]||(a[14]=o("label",{class:"block text-sm font-medium text-gray-700"},"Nº Boleta",-1)),u(o("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=r=>t(e).numero_boleta=r),class:"input"},null,512),[[b,t(e).numero_boleta]]),t(e).errors.numero_boleta?(i(),s("p",M,n(t(e).errors.numero_boleta),1)):d("",!0)]),o("div",null,[a[15]||(a[15]=o("label",{class:"block text-sm font-medium text-gray-700"},"Zona",-1)),u(o("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=r=>t(e).zona=r),class:"input"},null,512),[[b,t(e).zona]]),t(e).errors.zona?(i(),s("p",h,n(t(e).errors.zona),1)):d("",!0)]),o("div",null,[a[16]||(a[16]=o("label",{class:"block text-sm font-medium text-gray-700"},"Centro",-1)),u(o("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=r=>t(e).centro=r),class:"input"},null,512),[[b,t(e).centro]]),t(e).errors.centro?(i(),s("p",S,n(t(e).errors.centro),1)):d("",!0)])]),o("div",C,[o("div",null,[a[18]||(a[18]=o("label",{class:"block text-sm font-medium text-gray-700"},"Embarcación",-1)),u(o("select",{"onUpdate:modelValue":a[4]||(a[4]=r=>t(e).embarcacion_id=r),class:"input"},[a[17]||(a[17]=o("option",{disabled:"",value:""},"Selecciona una embarcación",-1)),(i(!0),s(p,null,_(c.embarcaciones,r=>(i(),s("option",{key:r.id,value:r.id},n(r.nombre),9,$))),128))],512),[[g,t(e).embarcacion_id]]),t(e).errors.embarcacion_id?(i(),s("p",L,n(t(e).errors.embarcacion_id),1)):d("",!0)]),o("div",null,[a[20]||(a[20]=o("label",{class:"block text-sm font-medium text-gray-700"},"Encargado de Faena",-1)),u(o("select",{"onUpdate:modelValue":a[5]||(a[5]=r=>t(e).trabajador_id=r),class:"input"},[a[19]||(a[19]=o("option",{disabled:"",value:""},"Selecciona un trabajador",-1)),(i(!0),s(p,null,_(c.trabajadores,r=>(i(),s("option",{key:r.id,value:r.id},n(r.nombre),9,N))),128))],512),[[g,t(e).trabajador_id]]),t(e).errors.trabajador_id?(i(),s("p",O,n(t(e).errors.trabajador_id),1)):d("",!0)])]),o("div",H,[o("div",I,[(i(),s(p,null,_(5,r=>o("div",{key:r},[o("label",J," Buzo "+n(r),1),u(o("select",{"onUpdate:modelValue":m=>t(e)[`buzo_${r}_id`]=m,class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},[a[21]||(a[21]=o("option",{disabled:"",value:""},"Selecciona un buzo",-1)),(i(!0),s(p,null,_(c.trabajadores.filter(m=>m.cargo&&m.cargo.toLowerCase()==="buzo"),m=>(i(),s("option",{key:m.id,value:m.id},n(m.nombre),9,T))),128))],8,P),[[g,t(e)[`buzo_${r}_id`]]]),t(e).errors[`buzo_${r}_id`]?(i(),s("p",W,n(t(e).errors[`buzo_${r}_id`]),1)):d("",!0)])),64))])]),o("div",q,[o("div",null,[a[22]||(a[22]=o("label",{class:"block text-sm font-medium text-gray-700"},"Hora Inicial",-1)),u(o("input",{type:"time","onUpdate:modelValue":a[6]||(a[6]=r=>t(e).hora_inicial=r),class:"input"},null,512),[[b,t(e).hora_inicial]]),t(e).errors.hora_inicial?(i(),s("p",Z,"Debe ingresar nuevamente la hora inicial.")):d("",!0)]),o("div",null,[a[23]||(a[23]=o("label",{class:"block text-sm font-medium text-gray-700"},"Hora Final",-1)),u(o("input",{type:"time","onUpdate:modelValue":a[7]||(a[7]=r=>t(e).hora_final=r),class:"input"},null,512),[[b,t(e).hora_final]]),t(e).errors.hora_final?(i(),s("p",G,"Debe ingresar nuevamente la hora final.")):d("",!0)])]),o("div",null,[a[24]||(a[24]=o("label",{class:"block text-sm font-medium text-gray-700"},"Total Jaulas",-1)),u(o("input",{type:"number","onUpdate:modelValue":a[8]||(a[8]=r=>t(e).total_jaulas=r),class:"input",min:"0"},null,512),[[b,t(e).total_jaulas,void 0,{number:!0}]]),t(e).errors.total_jaulas?(i(),s("p",K,n(t(e).errors.total_jaulas),1)):d("",!0)]),o("div",null,[a[25]||(a[25]=o("label",{class:"block text-sm font-medium text-gray-700"},"Dimensiones de Jaulas",-1)),u(o("input",{type:"text","onUpdate:modelValue":a[9]||(a[9]=r=>t(e).dimension_jaulas=r),class:"input",placeholder:"Ej: 10x10"},null,512),[[b,t(e).dimension_jaulas]]),t(e).errors.dimension_jaulas?(i(),s("p",Q,n(t(e).errors.dimension_jaulas),1)):d("",!0)]),o("div",null,[a[26]||(a[26]=o("label",{class:"block text-sm font-medium text-gray-700"},"Actividades AM",-1)),u(o("textarea",{"onUpdate:modelValue":a[10]||(a[10]=r=>t(e).actividades_am=r),rows:"3",class:"input"},null,512),[[b,t(e).actividades_am]]),t(e).errors.actividades_am?(i(),s("p",R,n(t(e).errors.actividades_am),1)):d("",!0)]),o("div",null,[a[27]||(a[27]=o("label",{class:"block text-sm font-medium text-gray-700"},"Actividades PM",-1)),u(o("textarea",{"onUpdate:modelValue":a[11]||(a[11]=r=>t(e).actividades_pm=r),rows:"3",class:"input"},null,512),[[b,t(e).actividades_pm]]),t(e).errors.actividades_pm?(i(),s("p",X,n(t(e).errors.actividades_pm),1)):d("",!0)]),o("div",null,[a[28]||(a[28]=o("label",{class:"block text-sm font-medium text-gray-700"},"Observaciones",-1)),u(o("textarea",{"onUpdate:modelValue":a[12]||(a[12]=r=>t(e).observaciones=r),rows:"3",class:"input"},null,512),[[b,t(e).observaciones]]),t(e).errors.observaciones?(i(),s("p",Y,n(t(e).errors.observaciones),1)):d("",!0)]),o("div",null,[a[29]||(a[29]=o("label",{class:"block text-sm font-medium text-gray-700"},"Firma del Encargado",-1)),o("div",aa,[c.bitacora.firma_encargado?(i(),s("img",{key:0,src:`/storage/${c.bitacora.firma_encargado}`,alt:"Firma",class:"border rounded-md max-w-xs object-contain"},null,8,ea)):d("",!0)])]),o("div",oa,[o("button",{type:"submit",disabled:t(e).processing,class:"w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-md shadow hover:bg-blue-700 transition disabled:opacity-50"},n(t(e).processing?"Actualizando...":"Actualizar Bitácora"),9,ta)])],32)])])]),_:1})],64))}},na=E(ra,[["__scopeId","data-v-a76cd8ea"]]);export{na as default};
