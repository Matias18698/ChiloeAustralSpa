import{r as g,C as _,c as s,b as l,d as m,u as o,m as x,w as v,e as r,i as y,f as n,g as d,j as u,t as i,p as f,v as k,F as V,W as E}from"./app-CQn9PYpG.js";import{A as h}from"./AppMain-DQAPNrS4.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"w-full bg-gradient-to-b from-blue-50 to-blue-100 min-h-screen p-6"},C={class:"max-w-4xl mx-auto bg-white p-6 rounded-2xl shadow-lg border border-blue-200"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},N={key:0,class:"error"},S={key:0,class:"error"},z={key:0,class:"error"},L={key:0,class:"error"},G={key:0,class:"error"},O={key:0,class:"error"},B={class:"block text-sm font-medium text-gray-700"},H={key:0,class:"text-red-500"},M={key:0,class:"error"},j={key:0},A={key:0,class:"error"},D={key:0,class:"error"},P={class:"md:col-span-2"},T={key:0,class:"error"},W={key:0,class:"error"},q=["disabled"],I={__name:"Create",setup(R){g("");const e=_({cotizacion:"",centro_barco:"",orden_compra:"",fecha_oc:"",hes:"",fecha_hes:"",valor_neto:"",valor_facturado:0,empresa_facturar:"",factura:"",estado:"pendiente"}),b=()=>{e.clearErrors();const c={cotizacion:"La cotización es obligatoria.",centro_barco:"El centro-barco es obligatorio.",orden_compra:"La orden de compra es obligatoria.",fecha_oc:"La fecha de OC es obligatoria.",hes:"El HES es obligatorio.",fecha_hes:"La fecha del HES es obligatoria.",valor_neto:"El valor neto es obligatorio.",empresa_facturar:"La empresa a facturar es obligatoria.",factura:"La factura es obligatoria.",estado:"El estado es obligatorio."};for(const[t,a]of Object.entries(c)){const p=e[t];(p==null||String(p).trim()==="")&&(e.errors[t]=a)}if(e.estado==="pagada"){const t=parseFloat(e.valor_facturado);(isNaN(t)||t<=0)&&(e.errors.valor_facturado='El valor facturado debe ser mayor a 0 cuando el estado es "pagada".')}Object.keys(e.errors).length>0||e.post(route("gastos.store"),{onSuccess:()=>E.visit(route("gastos.index"))})};return(c,t)=>(l(),s(V,null,[m(o(x),{title:"Nuevo Gasto"}),m(h,null,{default:v(()=>[r("div",U,[r("div",C,[t[23]||(t[23]=r("h2",{class:"text-2xl font-bold text-blue-800 mb-8"},"➕ Registrar Nuevo Gasto",-1)),r("form",{onSubmit:y(b,["prevent"]),class:"space-y-6"},[r("div",F,[r("div",null,[t[11]||(t[11]=r("label",{class:"block text-sm font-medium text-gray-700"},"Cotización",-1)),d(r("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o(e).cotizacion=a),type:"text",class:"input"},null,512),[[u,o(e).cotizacion]]),o(e).errors.cotizacion?(l(),s("p",N,i(o(e).errors.cotizacion),1)):n("",!0)]),r("div",null,[t[12]||(t[12]=r("label",{class:"block text-sm font-medium text-gray-700"},"Centro‑Barco",-1)),d(r("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o(e).centro_barco=a),type:"text",class:"input"},null,512),[[u,o(e).centro_barco]]),o(e).errors.centro_barco?(l(),s("p",S,i(o(e).errors.centro_barco),1)):n("",!0)]),r("div",null,[t[13]||(t[13]=r("label",{class:"block text-sm font-medium text-gray-700"},"Orden de Compra",-1)),d(r("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>o(e).orden_compra=a),type:"text",class:"input"},null,512),[[u,o(e).orden_compra]]),o(e).errors.orden_compra?(l(),s("p",z,i(o(e).errors.orden_compra),1)):n("",!0)]),r("div",null,[t[14]||(t[14]=r("label",{class:"block text-sm font-medium text-gray-700"},"Fecha OC",-1)),d(r("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>o(e).fecha_oc=a),type:"date",class:"input"},null,512),[[u,o(e).fecha_oc]]),o(e).errors.fecha_oc?(l(),s("p",L,i(o(e).errors.fecha_oc),1)):n("",!0)]),r("div",null,[t[15]||(t[15]=r("label",{class:"block text-sm font-medium text-gray-700"},"HES",-1)),d(r("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>o(e).hes=a),type:"text",class:"input"},null,512),[[u,o(e).hes]]),o(e).errors.hes?(l(),s("p",G,i(o(e).errors.hes),1)):n("",!0)]),r("div",null,[t[16]||(t[16]=r("label",{class:"block text-sm font-medium text-gray-700"},"Fecha HES",-1)),d(r("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>o(e).fecha_hes=a),type:"date",class:"input"},null,512),[[u,o(e).fecha_hes]]),o(e).errors.fecha_hes?(l(),s("p",O,i(o(e).errors.fecha_hes),1)):n("",!0)]),r("div",null,[r("label",B,[t[17]||(t[17]=f(" Valor Neto ")),o(e).estado.trim()==="pagada"?(l(),s("span",H,"*")):n("",!0)]),d(r("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>o(e).valor_neto=a),type:"number",class:"input"},null,512),[[u,o(e).valor_neto]]),o(e).errors.valor_neto?(l(),s("p",M,i(o(e).errors.valor_neto),1)):n("",!0)]),o(e).estado.trim()==="pagada"?(l(),s("div",j,[t[18]||(t[18]=r("label",{class:"block text-sm font-medium text-gray-700"},[f(" Valor Factura "),r("span",{class:"text-red-500"},"*")],-1)),d(r("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>o(e).valor_facturado=a),type:"number",class:"input"},null,512),[[u,o(e).valor_facturado]]),o(e).errors.valor_facturado?(l(),s("p",A,i(o(e).errors.valor_facturado),1)):n("",!0)])):n("",!0),r("div",null,[t[19]||(t[19]=r("label",{class:"block text-sm font-medium text-gray-700"},"Empresa a Facturar",-1)),d(r("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>o(e).empresa_facturar=a),type:"text",class:"input"},null,512),[[u,o(e).empresa_facturar]]),o(e).errors.empresa_facturar?(l(),s("p",D,i(o(e).errors.empresa_facturar),1)):n("",!0)]),r("div",P,[t[20]||(t[20]=r("label",{class:"block text-sm font-medium text-gray-700"},"Factura",-1)),d(r("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>o(e).factura=a),type:"text",class:"input"},null,512),[[u,o(e).factura]]),o(e).errors.factura?(l(),s("p",T,i(o(e).errors.factura),1)):n("",!0)])]),r("div",null,[t[22]||(t[22]=r("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),d(r("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>o(e).estado=a),class:"input"},t[21]||(t[21]=[r("option",{value:"pendiente"},"Pendiente",-1),r("option",{value:"pagada"},"Pagada",-1)]),512),[[k,o(e).estado]]),o(e).errors.estado?(l(),s("p",W,i(o(e).errors.estado),1)):n("",!0)]),r("div",null,[r("button",{type:"submit",disabled:o(e).processing,class:"w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-md shadow hover:bg-blue-700 transition disabled:opacity-50"},i(o(e).processing?"Guardando...":"Guardar Gasto"),9,q)])],32)])])]),_:1})],64))}},X=w(I,[["__scopeId","data-v-52826b94"]]);export{X as default};
